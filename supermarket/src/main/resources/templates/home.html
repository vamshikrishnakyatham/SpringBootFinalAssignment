<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
</head>
<body>
<div sec:authorize="isAuthenticated()">


<!-- div only for user role -->
<div sec:authorize="hasRole('ROLE_USER')">
    <h2 style="display: block;margin:0px;background: white;text-align: center;padding: 2px;">Home Page</h2>
    <br/>
    <p style=" margin-top: 3px;
     margin-left: 2px;
     position:absolute;
     top:0;
     left:0;">Logged user is : <span th:text = "${loggedUser}"></span></p>
    <br/>
    <div style="width: 600px;height: auto;margin-left: auto;margin-right: auto">
        <table class="table table-dark">
            <thead>
            <th scope="col">Operations</th>
            </thead>
            <tbody>
            <tr scope="row"><td style="text-align: center"><button type="button" class="btn btn-primary" style="margin: 2px"><a th:href="@{/user/updatePage}" style="color: white;text-decoration: none;">update personal data</a></button></td></tr>
            <tr scope="row"><td style="text-align: center"><button type="button" class="btn btn-primary" style="margin: 2px"><a th:href="@{/user/ordersList}" style="color: white;text-decoration: none;">display ordered items</a></button></td></tr>
            <tr scope="row"><td style="text-align: center"><button type="button" class="btn btn-primary" style="margin: 2px"><a th:href="@{/user/order}" style="color: white;text-decoration: none;">order new item</a></button></td></tr>
            </tbody>
        </table>
    </div>
</div>

<!-- div only for staff role -->

<div sec:authorize="hasRole('ROLE_STAFF')">
    <h2 style="display: block;margin:0px;background: limegreen;text-align: center;padding: 2px">Home Page</h2>
    <br/>
    <p style=" margin-top: 1px;
     margin-left: 2px;
     position:absolute;
     top:0;
     left:0;">Logged staff member is : <span th:text = "${loggedUser}"></span></p>
    <br/>
    <div style="width: 600px;height: auto;margin-left: auto;margin-right: auto">
        <table class="table table-dark">
            <thead>
                <th scope="col">Operations</th>
            </thead>
            <tbody>
                <tr scope="row"><td style="text-align: center"><button type="button" class="btn btn-success" style="margin: 2px"><a th:href="@{/staff/updateStaffPage}" style="color: white;text-decoration: none;">update personal data</a></button></td></tr>
                <tr scope="row"><td style="text-align: center"><button type="button" class="btn btn-success" style="margin: 2px"><a th:href="@{/staff/stockList}" style="color: white;text-decoration: none;">see stock list</a></button></td></tr>
                <tr scope="row"><td style="text-align: center"><button type="button" class="btn btn-success" style="margin: 2px"><a th:href="@{/staff/addItem}" style="color: white;text-decoration: none;">add new item</a></button></td></tr>
            </tbody>
        </table>
    </div>

</div>

    <form name="logoutForm" th:action="@{/logout}" method="post" style=" margin-top: 1px;
     margin-right: 2px;
     position:absolute;
     top:0;
     right:0;">
        <input class="btn btn-warning" type="submit" value="Sign Out"/>
    </form>
    <form name="logoutForm" th:action="@{/deleteUser}" method="post" style=" margin-top: 1px;
     margin-right: 2px;
     position:absolute;
     top:0;
     right:10%;">
        <input class="btn btn-danger" type="submit" value="Delete Account" th:onclick="return confirm('Are you sure, you want to delete your account!')"/>
    </form>
</div>
</body>
</html>